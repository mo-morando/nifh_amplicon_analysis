This directory contains data used by the post-pipeline workflow that processes all nifH ASVs and
environmental data for the nifH amplicon studies used in Morando, Magasin et al. 2023 (in prep).

-------------------
* PipelineOutputs *
-------------------

For all amplicon studies used in this work, the ASVs and abundance tables that were generated by the
DADA2 nifH pipeline ( https://github.com/jdmagasin/nifH_amplicons_DADA2 ) have been organized by
study within the PipelineOutputs directory.  Each study's ASVs are are referenced by the rows in
../GatherAsvs/asvs.noChimera.fasta_table.tsv.

The ASVs and abundance tables are the key pipeline outputs that are needed by the workflow.  Other
outputs (e.g. intermediate files, plots, logs, etc.) are not included. However, the pipeline
parameters files and FASTQ maps are provided for each study so that you can (after downloading the
FASTQs) run the pipeline and reproduce the full output.  For most studies, running the pipeline is
accomplished by doing the following in a unix shell (BASH recommended):

       cd StudyName
       organizeFastqs.R fastqMap.StudyName.tsv
       run_DADA2_pipeline.sh params.StudyName.csv &> log.description_or_date.txt

The scripts organizeFastqs.R and run_DADA2_pipeline.sh are self-documenting if you run them with no
parameters.  Installation documentation for the DADA2 nifH pipeline is available at the github
repository link above, as well as documentation describing the parameters (see the example).

Note that in the fastqMap files, the directory paths for the FASTQs must reflect your organization
of the downloaded data sets.  You are free to change them.  Often we found that data sets had no
directory structure as downloaded (e.g. from the Sequencing Read Archive), and we usually put all
FASTQs in one directory called "RawFastqs".  organizeFastqs.R was then used to create a directory
hierarchy that reflected each sample's station, nucleic acid type, and size fraction.


-----------------
* StudyMetadata *
-----------------

This directory has tables of metadata for all studies, mainly from the NCBI Sequencing Read Archive.
Often there are two tables, one from GrabSeqs and the other downloaded using the SRA web interface.
Occasionally we had to fix errors (e.g. for known metatranscriptomic samples that had LibrarySource
"METAGENOMIC").

The GatherMetadata stage integrates all study metadata, reports possible errors for manual
correction, and standardizes the format various fields (eg. dates, coordinates, and UTC time zones).


Copyright (C) 2023 Jonathan D. Magasin
